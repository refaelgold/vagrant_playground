<!-- File: chapter2/creating-controller.html -->
<html >
<head>
    <title>Hello AngularJS</title>
    <link rel="stylesheet" href="style.css"/>
    <style>
        .pending{
            background-color:red;
        }
        .done{
            background-color:green;
        }
    </style>
</head>
<body ng-app="notesApp">
<div ng-controller="MainCtrl as main">

    <!--fetch json -->
    <div ng-repeat="note in main.notes"  ng-class="main.getNoteClass(note.done)">
        <span class="label"  ng-bind="note.label"></span>
        <span class="assignee" ng-bind="note.assignee"  ng-show="note.assignee"></span>
    </div>

</div>

<script src="../js/angular.1.3.0.js"></script>

<script type="text/javascript">
    angular.module('notesApp', [])
            .controller('MainCtrl', [function() {

                var self=this;
                self.notes=[
                    {
                        id:1,label:'First Note',done:false,assignee:'Shayam'
                    }
                    ,
                    {
                        id:2,label:'Second Note',done:false
                    }
                    ,
                    {
                        id:3,label:'Done Note',done:true
                    }
                    ,
                    {
                        id:4,label:'Last Note',done:false,assignee:'Brad'
                    }
                ];

                self.getNoteClass=function(status){
                    return{
                        done: status,
                        pending:!status
                    }

                }


            }]);
</script>

</body>
</html>
